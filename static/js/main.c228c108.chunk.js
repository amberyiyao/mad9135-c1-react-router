(this["webpackJsonpmad9135-c1-react-router"]=this["webpackJsonpmad9135-c1-react-router"]||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/smile-regular.aca9471f.svg"},25:function(e,t,a){e.exports=a.p+"static/media/comments-regular.1f301d23.svg"},26:function(e,t,a){e.exports=a.p+"static/media/list-alt-regular.1f44e83c.svg"},27:function(e,t,a){e.exports=a.p+"static/media/loading.47b17d22.svg"},33:function(e,t,a){e.exports=a(51)},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),c=(a(38),a(9)),i=a.n(c),u=a(12),l=a(20),d=a(21),m=a(31),p=a(22),f=a(32);a(40);var h=function(e){return r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,e.header))},g=(a(41),a(10)),E=a.n(g),v=(a(42),a(2));var b=function(e){var t="/user/".concat(e.user.id,"/posts"),a="/user/".concat(e.user.id,"/todos"),n="/user/".concat(e.user.id);return r.a.createElement("div",{className:"UserCard"},r.a.createElement("div",{className:"card-infor"},r.a.createElement("div",{className:"card-avatar"},r.a.createElement("img",{src:E.a,alt:"user icon"})),r.a.createElement("div",{className:"card-body"},r.a.createElement(v.b,{className:"user-name",to:n,onClick:function(){e.getCurrentUser(e.user),e.changeHeader(e.user.name)}},e.user.name,r.a.createElement("br",null),r.a.createElement("span",{className:"user-email"},e.user.email)))),r.a.createElement("div",{className:"card-action"},r.a.createElement(v.b,{to:t,onClick:function(){e.handleActions(e.user,"posts")}},"Posts"),r.a.createElement(v.b,{to:a,onClick:function(){e.handleActions(e.user,"todos")}},"Todo")))},y=a(25),k=a.n(y);a(47);var O=function(e){return r.a.createElement("div",{className:"postCard"},r.a.createElement("img",{src:k.a,alt:"post icon"}),r.a.createElement("div",{className:"postInfor"},r.a.createElement("p",{className:"postTitle"},e.post.title),r.a.createElement("p",{className:"postBody"},e.post.body)))},S=a(26),j=a.n(S);a(48);var D=function(e){var t=e.todo.completed?"Done":"Pending";return r.a.createElement("div",{className:"todoCard"},r.a.createElement("img",{src:j.a,alt:"todo icon"}),r.a.createElement("div",{className:"todoInfor"},r.a.createElement("p",{className:"todoTitle"},e.todo.title),r.a.createElement("p",{className:"status"},t)))},N=a(27),P=a.n(N);var A=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:P.a}))},C=a(6);a(49);var U=function(e){var t="/user/".concat(e.user.id,"/posts"),a="/user/".concat(e.user.id,"/todos");return r.a.createElement("div",{className:"userDetail"},r.a.createElement("img",{src:E.a}),r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," ",e.user.name),r.a.createElement("p",null,r.a.createElement("b",null,"City:")," ",e.user.address.city),r.a.createElement("p",null,r.a.createElement("b",null,"Phone:")," ",e.user.phone),r.a.createElement("p",null,r.a.createElement("b",null,"Email:")," ",e.user.email),r.a.createElement("p",null,r.a.createElement("b",null,"Website:")," ",e.user.website),r.a.createElement("div",{className:"card-actions"},r.a.createElement(v.b,{to:t,onClick:function(){e.handleActions(e.user,"posts")}},"Posts"),r.a.createElement(v.b,{to:a,onClick:function(){e.handleActions(e.user,"todos")}},"Todo")))},w=a(28),T=a(29);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var x={users:[],posts:[],todos:[],currentUser:{}};var _=Object(T.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return console.log(t.type,t.data),t.type?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t.data):e}));function I(e){return{type:"CHANGE_POST_DATA",data:{posts:e}}}function B(e){return{type:"CHANGE_TODO_DATA",data:{todos:e}}}var G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:{},header:"Users",loading:!0,userPage:!1},a.getUserAction=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),"posts"===n?(r=_.getState().posts.filter((function(e){return e.userId===t.id})),a.updateHeader("".concat(t.name," Posts")),_.dispatch(I(r))):(s=_.getState().todos.filter((function(e){return e.userId===t.id})),a.updateHeader("".concat(t.name," Todos")),_.dispatch(B(s))),setTimeout((function(){return a.setState({loading:!1})}),1e3);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getCurrentUser=function(e){a.setState({loading:!0});var t=_.getState().users.filter((function(t){return t.id===e.id}));a.setState({currentUser:t[0]}),a.setState({userPage:!0}),setTimeout((function(){return a.setState({loading:!1})}),1e3)},a.updateHeader=function(e){a.setState({header:e})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getData",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),"users"!==t){e.next=6;break}return e.next=4,fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){return _.dispatch({type:"CHANGE_UESER_DATA",data:{users:e}})}));case 4:e.next=13;break;case 6:if("posts"!==t){e.next=11;break}return e.next=9,fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(e){return _.dispatch(I(e))}));case 9:e.next=13;break;case 11:return e.next=13,fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(e){return _.dispatch(B(e))}));case 13:setTimeout((function(){return a.setState({loading:!1})}),1e3);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.getData("users"),this.getData("posts"),this.getData("todos"),_.subscribe((function(){return e.setState({})}))}},{key:"render",value:function(){var e=this;_.getState().users||this.getData("users"),_.getState().posts||this.getData("posts"),_.getState().todos||this.getData("todos");var t=_.getState().users.map((function(t){return r.a.createElement(b,{key:t.id,user:t,handleActions:e.getUserAction,getCurrentUser:e.getCurrentUser,changeHeader:e.updateHeader})})),a=_.getState().posts.map((function(e){return r.a.createElement(O,{key:e.id,post:e})})),n=_.getState().todos.map((function(e){return r.a.createElement(D,{key:e.id,todo:e})}));return r.a.createElement(v.a,{basename:"/mad9135-c1-react-router"},r.a.createElement("div",{className:"App"},r.a.createElement(h,{header:this.state.header}),this.state.userPage?r.a.createElement("nav",null,r.a.createElement(v.b,{to:"/users",onClick:function(){e.updateHeader("Users"),e.getData("users"),e.setState({userPage:!1})}},"Users"),r.a.createElement(v.b,{to:"/posts",onClick:function(){e.updateHeader("".concat(e.state.header," Posts")),e.getUserAction(e.state.currentUser,"posts"),e.setState({userPage:!1})}},"Posts"),r.a.createElement(v.b,{to:"/todos",onClick:function(){e.updateHeader("".concat(e.state.header," Todos")),e.getUserAction(e.state.currentUser,"todos"),e.setState({userPage:!1})}},"ToDos")):r.a.createElement("nav",null,r.a.createElement(v.b,{to:"/users",onClick:function(){e.updateHeader("Users"),e.getData("users")}},"Users"),r.a.createElement(v.b,{to:"/posts",onClick:function(){e.updateHeader("Posts"),e.getData("posts")}},"Posts"),r.a.createElement(v.b,{to:"/todos",onClick:function(){e.updateHeader("Todos"),e.getData("todos")}},"ToDos")),this.state.loading?r.a.createElement(A,null):r.a.createElement(C.c,null,r.a.createElement(C.a,{path:["/user/:id/posts","/posts"]},a),r.a.createElement(C.a,{path:["/user/:id/todos","/todos"]},n),r.a.createElement(C.a,{path:"/user/:id"},r.a.createElement(U,{user:this.state.currentUser,handleActions:this.getUserAction})),r.a.createElement(C.a,{path:"/"},t))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.c228c108.chunk.js.map